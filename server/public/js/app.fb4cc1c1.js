(function(e){function t(t){for(var n,i,o=t[0],u=t[1],c=t[2],v=0,d=[];v<o.length;v++)i=o[v],s[i]&&d.push(s[i][0]),s[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,o=1;o<r.length;o++){var u=r[o];0!==s[u]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},s={app:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0d27":function(e){e.exports={create_surveys:"Create surveys",create_survey:"Create survey",free_safe_fast:"Free of charge, safe and fast",new_survey:"New survey",question:"Ask your question",answer:"Answer",add_answer:"Add answer option",remove_answer:"Remove answer",no_surveys:"There are no surveys available.",latest_surveys:"Latest surveys",created:"Created on",at:"at",result:"Result",refresh_result:"Refresh result",votes:"votes",to_survey:"To the survey",clock:"o'clock",vote:"Vote",view_results:"View result",imprint:"Imprint",data_privacy:"Privacy",blog:"Blog",allow_multiple_choices:"Allow multiple selection",your_name:"Your name",votet_for:"These people voted for this option:",no_voters:"Nobody has yet voted for this option.",alerts:{no_question:"Please enter a question!",no_answers:"At least two answers must be available!",survey_created:"The survey has been created!",min_one_answer:"Please select at least one answer!",vote_success:"You voted successfully!",default_error:"Error! Please try again in a few minutes!",already_voted:"You already voted!",no_name:"Please enter your name!"}}},"0fb2":function(e){e.exports={create_surveys:"Umfragen erstellen",create_survey:"Umfrage erstellen",free_safe_fast:"Kostenlos, sicher und schnell",new_survey:"Neue Umfrage",question:"Stelle Deine Frage",answer:"Antwort",add_answer:"Antwortmöglichkeit hinzufügen",remove_answer:"Antwort entfernen",no_surveys:"Es sind keine Umfragen vorhanden.",latest_surveys:"Letzte Umfragen",created:"Erstellt am",at:"um",result:"Ergebnis",refresh_result:"Ergebnis aktualisieren",votes:"Votes",to_survey:"zur Umfrage",clock:"Uhr",vote:"Abstimmen",view_results:"Ergebnis anschauen",imprint:"Impressum",data_privacy:"Datenschutzerklärung",blog:"Blog",allow_multiple_choices:"Mehrfach-Auswahl erlauben",your_name:"Dein Name",votet_for:"Für diese Option haben diese Leute gestimmt:",no_voters:"Für diese Option hat noch keiner gestimmt.",alerts:{no_question:"Bitte gebe eine Frage ein!",no_answers:"Es müssen mindestens zwei Antworten vorhanden sein!",survey_created:"Die Umfrage wurde erstellt!",min_one_answer:"Bitte wähle mindestens eine Antwort aus!",vote_success:"Du hast erfolgreich abgestimmt!",default_error:"Fehler! Bitte versuche es in ein paar Minuten erneut!",already_voted:"Du hast bereits abgestimmt!",no_name:"Bitte gebe Deinen Namen an!"}}},1442:function(e,t,r){"use strict";var n=r("935b"),s=r.n(n);s.a},1677:function(e,t,r){},"21bb":function(e,t,r){"use strict";var n=r("bcc9"),s=r.n(n);s.a},"3a7d":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("header",[r("router-link",{attrs:{tag:"p",to:"/"}},[e._v("\n      folley.\n    ")]),r("LanguageSwitcher")],1),r("router-view"),r("footer",[r("p",[r("a",{attrs:{href:"https://webdeasy.de/impressum/",target:"_blank"}},[e._v(e._s(e.$t("imprint")))])]),r("p",[r("a",{attrs:{href:"https://webdeasy.de/datenschutzerklaerung/",target:"_blank"}},[e._v(e._s(e.$t("data_privacy")))])]),r("p",[r("a",{attrs:{href:"https://webdeasy.de/",target:"_blank"}},[e._v(e._s(e.$t("blog")))])])])],1)},a=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"locale-changer"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.$i18n.locale,expression:"$i18n.locale"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.$i18n,"locale",t.target.multiple?r:r[0])}}},e._l(e.langs,function(t,n){return r("option",{key:"Lang"+n,domProps:{value:t}},[e._v(e._s(t))])}),0)])},o=[],u={name:"LanguageSwitcher",data:function(){return{langs:["de","en"]}}},c=u,l=r("2877"),v=Object(l["a"])(c,i,o,!1,null,null,null),d=v.exports,h={name:"App",components:{LanguageSwitcher:d}},f=h,p=(r("5c0b"),Object(l["a"])(f,s,a,!1,null,null,null)),_=p.exports,m=(r("6762"),r("2fdb"),r("8c4f")),w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("div",{staticClass:"container"},[r("section",[r("h1",[e._v(e._s(e.$t("create_surveys")))]),r("h2",[e._v(e._s(e.$t("free_safe_fast")))]),r("div",{staticClass:"graphic"}),r("a",{staticClass:"btn red",attrs:{href:"#new-survey"}},[e._v("\n\t\t\t\t"+e._s(e.$t("create_survey"))+"\n\t\t\t")])]),r("section",{staticClass:"auto-margin"},[r("CreateSurvey")],1),r("section",{staticClass:"auto-margin"},[r("SurveyList")],1)])])},g=[],y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticClass:"main-color",attrs:{id:"new-survey"}},[e._v(e._s(e.$t("new_survey")))]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.question,expression:"question"}],attrs:{type:"text",placeholder:e.$t("question")},domProps:{value:e.question},on:{input:function(t){t.target.composing||(e.question=t.target.value)}}}),r("div",{staticClass:"answer-area"},[e._l(e.answerCount,function(t){return r("div",{staticClass:"answer-option"},[r("label",{attrs:{for:"answer-"+(t-1)}},[e._v(e._s(e.$t("answer"))+" "+e._s(t))]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.answers[t-1],expression:"answers[i - 1]"}],staticClass:"answer",attrs:{id:"answer-"+(t-1),type:"text",placeholder:"..."},domProps:{value:e.answers[t-1]},on:{input:function(r){r.target.composing||e.$set(e.answers,t-1,r.target.value)}}}),e.answerCount>2?r("span",{staticClass:"removeAnswer",attrs:{title:e.$t("remove_answer")},on:{click:function(r){return e.removeAnswer(t-1)}}},[e._v("x")]):e._e()])}),e.answerCount<50?r("span",{staticClass:"add-answer",attrs:{title:e.$t("add_answer")},on:{click:e.addAnswer}},[e._v("+")]):e._e(),r("div",{staticClass:"option-container"},[r("div",{staticClass:"row"},[r("input",{attrs:{type:"checkbox",id:"option-multiple-choices",checked:"",disabled:""}}),r("label",{attrs:{for:"option-multiple-choices"}},[e._v(e._s(e.$t("allow_multiple_choices")))])])])],2),r("span",{staticClass:"btn small",on:{click:e.createSurvey}},[e._v("\n\t\t"+e._s(e.$t("create_survey"))+"\n\t")]),e.alert?r("span",{staticClass:"alert",class:{red:"red"==e.alert.colorClass,green:"green"==e.alert.colorClass}},[e._v("\n\t\t"+e._s(e.$t(e.alert.msg))+"\n\t")]):e._e()])},b=[],k=(r("96cf"),r("3b8d")),C=r("bc3a"),$=r.n(C),x="/api/survey/",A={createSurvey:function(e){return $.a.post(x,e).then(function(e){return e.data})},getSurvey:function(e){return $.a.get(x+e).then(function(e){return e.data})},getSurveys:function(){return $.a.get(x).then(function(e){return e.data})},vote:function(e,t,r){return $.a.post(x+e,{name:t,answers:r}).then(function(e){return e.data})},getVotes:function(e){return $.a.get(x+e+"/votes").then(function(e){return e.data})}},S={name:"CreateSurvey",data:function(){return{question:"",answerCount:2,answers:[],alert:[]}},methods:{createSurvey:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={question:this.question,answers:this.answers},e.prev=1,e.next=4,A.createSurvey(t);case 4:r=e.sent,this.setAlert("alerts.survey_created"),this.$router.push("".concat(this.$i18n.locale,"/survey/").concat(r["uuid"])),e.next=19;break;case 9:e.prev=9,e.t0=e["catch"](1),n=e.t0.response.data.code,e.t1=n,e.next="no-question"===e.t1?15:"no-answers"===e.t1?17:19;break;case 15:return this.setAlert("alerts.no_question","red"),e.abrupt("break",19);case 17:return this.setAlert("alerts.no_answers","red"),e.abrupt("break",19);case 19:case"end":return e.stop()}},e,this,[[1,9]])}));function t(){return e.apply(this,arguments)}return t}(),addAnswer:function(){this.answerCount++},removeAnswer:function(e){this.answers=this.answers.filter(function(t,r){return r!==e}),this.answerCount--},setAlert:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r={msg:e,colorClass:t};this.alert=r},removeAlert:function(){this.alert=[]}}},V=S,O=(r("b283"),Object(l["a"])(V,y,b,!1,null,null,null)),j=O.exports,R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticClass:"main-color"},[e._v(e._s(e.$t("latest_surveys")))]),e.surveys.length>0?r("div",{staticClass:"latest-surveys"},e._l(e.surveys,function(t){return r("div",{staticClass:"survey"},[r("h3",[r("a",{attrs:{href:e.$i18n.locale+"/survey/"+t.survey_id}},[e._v(e._s(t.question))])]),r("p",[e._v("\n\t\t\t\t"+e._s(e.$t("created"))+" "+e._s(t.created_date)+" "+e._s(e.$t("at"))+"\n\t\t\t\t"+e._s(t.created_time)+"\n\t\t\t")])])}),0):e._e(),0===e.surveys.length?r("p",[e._v(e._s(e.$t("no_surveys")))]):e._e()])},q=[],E={name:"SurveyList",data:function(){return{surveys:[]}},created:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A.getSurveys();case 2:this.surveys=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},P=E,L=(r("cb85"),Object(l["a"])(P,R,q,!1,null,null,null)),T=L.exports,N={name:"Home",components:{CreateSurvey:j,SurveyList:T}},U=N,D=(r("21bb"),Object(l["a"])(U,w,g,!1,null,null,null)),M=D.exports,z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",[e._v(e._s(e.survey.question))]),"survey"==e.view?r("SurveyView",{attrs:{survey:e.survey,uuid:e.uuid},on:{"change-view":e.changeView}}):e._e(),"results"==e.view?r("ResultView",{attrs:{survey:e.survey,uuid:e.uuid},on:{"change-view":e.changeView}}):e._e()],1)},B=[],F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"survey-view"},[r("h3",[e._v("\n\t\t"+e._s(e.$t("created"))+" "+e._s(e.survey.created_date)+" "+e._s(e.$t("at"))+"\n\t\t"+e._s(e.survey.created_time)+" "+e._s(e.$t("clock"))+"\n\t")]),r("div",{staticClass:"name-container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:e.$t("your_name")},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),r("div",{staticClass:"answer-container"},e._l(e.survey.answers,function(t){return r("div",{staticClass:"row"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedAnswers,expression:"checkedAnswers"}],attrs:{id:"answer"+t.id,type:"checkbox"},domProps:{value:t.id,checked:Array.isArray(e.checkedAnswers)?e._i(e.checkedAnswers,t.id)>-1:e.checkedAnswers},on:{change:function(r){var n=e.checkedAnswers,s=r.target,a=!!s.checked;if(Array.isArray(n)){var i=t.id,o=e._i(n,i);s.checked?o<0&&(e.checkedAnswers=n.concat([i])):o>-1&&(e.checkedAnswers=n.slice(0,o).concat(n.slice(o+1)))}else e.checkedAnswers=a}}}),r("label",{attrs:{for:"answer"+t.id}},[e._v(e._s(t.answer))])])}),0),r("div",{staticClass:"action-container"},[r("div",{staticClass:"btn-container"},[r("span",{staticClass:"btn small",on:{click:e.vote}},[e._v(e._s(e.$t("vote")))]),r("p",{staticClass:"color-light-grey change-view",on:{click:function(t){return e.$emit("change-view","results")}}},[e._v("\n\t\t\t\t"+e._s(e.$t("view_results"))+"\n\t\t\t")])]),e.alert?r("span",{staticClass:"alert",class:{red:"red"==e.alert.colorClass,green:"green"==e.alert.colorClass}},[e._v("\n\t\t\t"+e._s(e.$t(e.alert.msg))+"\n\t\t")]):e._e()])])},I=[],Y=(r("28a5"),r("7f7f"),{name:"SurveyView",props:["survey","uuid"],data:function(){return{alert:[],name:"",checkedAnswers:[]}},methods:{vote:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!=this.checkedAnswers.length){e.next=3;break}return this.setAlert("alerts.min_one_answer","red"),e.abrupt("return",!1);case 3:if(""!=this.name){e.next=6;break}return this.setAlert("alerts.no_name","red"),e.abrupt("return",!1);case 6:if("true"!==this.getCookie("voted-"+this.uuid)){e.next=9;break}return this.setAlert("alerts.already_voted","red"),e.abrupt("return",!1);case 9:return e.prev=9,e.next=12,A.vote(this.uuid,this.name,this.checkedAnswers);case 12:e.sent,this.setAlert("alerts.vote_success"),this.setCookie("voted-"+this.uuid,"true",1),t=this,setTimeout(function(){t.view="results"},3e3),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](9),this.setAlert("alerts.default_error","red");case 22:case"end":return e.stop()}},e,this,[[9,19]])}));function t(){return e.apply(this,arguments)}return t}(),setCookie:function(e,t,r){var n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3);var s="expires="+n.toUTCString();document.cookie=e+"="+t+";"+s+";path=/"},getCookie:function(e){for(var t=e+"=",r=decodeURIComponent(document.cookie),n=r.split(";"),s=0;s<n.length;s++){var a=n[s];while(" "==a.charAt(0))a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""},setAlert:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r={msg:e,colorClass:t};this.alert=r},removeAlert:function(){this.alert=[]}}}),J=Y,H=Object(l["a"])(J,F,I,!1,null,null,null),K=H.exports,G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"result-view"},[r("h2",[e._v(e._s(e.$t("result"))+" - "+e._s(e.totalVotes)+" "+e._s(e.$t("votes")))]),r("div",{staticClass:"vote-results"},e._l(e.votes,function(t){return r("div",{staticClass:"answer"},[r("p",[r("b",[e._v(e._s(t.answer))]),e._v(": "+e._s(t.votes)+" "+e._s(e.$t("votes"))+"\n\t\t\t")]),r("span",{staticClass:"bar",on:{click:function(r){return e.showVoters(t.id)}}},[r("span",{staticClass:"progress",style:"width:"+t.percent+"%"}),r("span",{staticClass:"percent-value",style:"left:"+(t.percent>50?1:t.percent+1)+"%"},[e._v(e._s(t.percent)+" %")])]),e.showVoter==t.id?r("div",{staticClass:"voter"},[0==t.votes?r("div",{staticClass:"no-votes"},[e._v("\n\t\t\t\t\t"+e._s(e.$t("no_voters"))+"\n\t\t\t\t")]):e._e(),t.votes>0?r("div",{staticClass:"has-votes"},[r("span",{staticClass:"close-voters",on:{click:function(t){e.showVoter=0}}},[e._v("x")]),r("span",{staticClass:"fake-hl"},[e._v(e._s(e.$t("votet_for")))]),e._l(t.names,function(t){return r("p",[e._v(e._s(t))])})],2):e._e()]):e._e()])}),0),r("span",{staticClass:"btn small outline",on:{click:e.getVotes}},[e._v(e._s(e.$t("refresh_result")))]),r("p",{staticClass:"color-light-grey change-view",on:{click:function(t){return e.$emit("change-view","survey")}}},[e._v("\n\t\t"+e._s(e.$t("to_survey"))+"\n\t")])])},Q=[],W=(r("ac6a"),{name:"ResultView",props:["survey","uuid"],data:function(){return{votes:[],totalVotes:0,showVoter:0}},created:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.uuid=this.$route.params["uuid"],this.getVotes();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getVotes:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.votes=[],this.totalVotes=0,e.next=4,A.getVotes(this.uuid);case 4:this.votes=e.sent,this.votes.map(function(e){return t.totalVotes+=e.votes}),this.votes.forEach(function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r.percent=Math.round(100/t.totalVotes*r.votes*10)/10;case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),showVoters:function(e){this.showVoter=e==this.showVoter?0:e}}}),X=W,Z=(r("9327"),Object(l["a"])(X,G,Q,!1,null,null,null)),ee=Z.exports,te={name:"Survey",components:{SurveyView:K,ResultView:ee},data:function(){return{survey:[],uuid:null,view:"survey",votes:[]}},created:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.uuid=this.$route.params["uuid"],e.next=3,A.getSurvey(this.uuid);case 3:this.survey=e.sent;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{changeView:function(e){this.view=e}}},re=te,ne=(r("1442"),Object(l["a"])(re,z,B,!1,null,null,null)),se=ne.exports,ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-view")},ie=[],oe={},ue=Object(l["a"])(oe,ae,ie,!1,null,null,null),ce=ue.exports;n["a"].use(m["a"]);var le=new m["a"]({mode:"history",base:"/",routes:[{path:"/:lang",component:ce,beforeEnter:function(e,t,r){var n=e.params.lang;return["en","de"].includes(n)?(me.locale!==n&&(me.locale=n),r()):r("de")},children:[{path:"",name:"home",component:M},{path:"survey/:uuid",name:"survey",component:se}]},{path:"*",redirect:"/de"}]}),ve=r("2f62");n["a"].use(ve["a"]);var de=new ve["a"].Store({state:{},mutations:{},actions:{}}),he=r("a925"),fe=r("0fb2"),pe=r("0d27"),_e={de:fe,en:pe};r("a347"),r("1677");r.d(t,"i18n",function(){return me}),n["a"].use(he["a"]);var me=new he["a"]({locale:"de",fallbackLocale:"de",messages:_e});n["a"].config.productionTip=!1,new n["a"]({router:le,store:de,i18n:me,render:function(e){return e(_)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var n=r("5e27"),s=r.n(n);s.a},"5e27":function(e,t,r){},"7a19":function(e,t,r){},9327:function(e,t,r){"use strict";var n=r("ccbd"),s=r.n(n);s.a},"935b":function(e,t,r){},a347:function(e,t,r){},b283:function(e,t,r){"use strict";var n=r("7a19"),s=r.n(n);s.a},bcc9:function(e,t,r){},cb85:function(e,t,r){"use strict";var n=r("3a7d"),s=r.n(n);s.a},ccbd:function(e,t,r){}});
//# sourceMappingURL=app.fb4cc1c1.js.map