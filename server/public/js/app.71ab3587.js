(function(e){function t(t){for(var r,i,u=t[0],o=t[1],c=t[2],v=0,d=[];v<u.length;v++)i=u[v],s[i]&&d.push(s[i][0]),s[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,u=1;u<n.length;u++){var o=n[u];0!==s[o]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},s={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var l=o;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0d27":function(e){e.exports={create_surveys:"Create surveys",create_survey:"Create survey",free_safe_fast:"Free of charge, safe and fast",new_survey:"New survey",question:"Ask your question",answer:"Answer",add_answer:"Add answer option",remove_answer:"Remove answer",alert:{no_question:"Please enter a question!",no_answers:"At least two answers must be available!",survey_created:"The survey has been created!",min_one_answer:"Please select at least one answer!",vote_success:"You voted successfully!",default_error:"Error! Please try again in a few minutes!"}}},"0fb2":function(e){e.exports={create_surveys:"Umfragen erstellen",create_survey:"Umfrage erstellen",free_safe_fast:"Kostenlos, sicher und schnell",new_survey:"Neue Umfrage",question:"Stelle Deine Frage",answer:"Antwort",add_answer:"Antwortmöglichkeit hinzufügen",remove_answer:"Antwort entfernen",alerts:{no_question:"Bitte gebe eine Frage ein!",no_answers:"Es müssen mindestens zwei Antworten vorhanden sein!",survey_created:"Die Umfrage wurde erstellt!",min_one_answer:"Bitte wähle mindestens eine Antwort aus!",vote_success:"Du hast erfolgreich abgestimmt!",default_error:"Fehler! Bitte versuche es in ein paar Minuten erneut!"}}},1442:function(e,t,n){"use strict";var r=n("935b"),s=n.n(r);s.a},1677:function(e,t,n){},"21bb":function(e,t,n){"use strict";var r=n("bcc9"),s=n.n(r);s.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("header",[n("router-link",{attrs:{tag:"p",to:"/"}},[e._v("\n      folley.\n    ")]),n("LanguageSwitcher")],1),n("router-view"),e._m(0)],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",[n("p",[e._v("Impressum")]),n("p",[e._v("Datenschutzerklärung")]),n("p",[n("a",{attrs:{href:"https://webdeasy.de/",target:"_blank"}},[e._v("Blog")])])])}],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"locale-changer"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.$i18n.locale,expression:"$i18n.locale"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.$i18n,"locale",t.target.multiple?n:n[0])}}},e._l(e.langs,function(t,r){return n("option",{key:"Lang"+r,domProps:{value:t}},[e._v(e._s(t))])}),0)])},u=[],o={name:"LanguageSwitcher",data:function(){return{langs:["de","en"]}}},c=o,l=n("2877"),v=Object(l["a"])(c,i,u,!1,null,null,null),d=v.exports,f={name:"App",components:{LanguageSwitcher:d}},h=f,p=(n("5c0b"),Object(l["a"])(h,s,a,!1,null,null,null)),w=p.exports,_=(n("6762"),n("2fdb"),n("8c4f")),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("div",{staticClass:"container"},[n("section",[n("h1",[e._v(e._s(e.$t("create_surveys")))]),n("h2",[e._v(e._s(e.$t("free_safe_fast")))]),n("div",{staticClass:"graphic"}),n("a",{staticClass:"btn red",attrs:{href:"#new-survey"}},[e._v("\n\t\t\t\t"+e._s(e.$t("create_survey"))+"\n\t\t\t")])]),n("section",[n("CreateSurvey")],1)])])},g=[],y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",{staticClass:"main-color",attrs:{id:"new-survey"}},[e._v(e._s(e.$t("new_survey")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.question,expression:"question"}],attrs:{type:"text",placeholder:e.$t("question")},domProps:{value:e.question},on:{input:function(t){t.target.composing||(e.question=t.target.value)}}}),n("div",{staticClass:"answer-area"},[e._l(e.answerCount,function(t){return n("div",{staticClass:"answer-option"},[n("label",{attrs:{for:"answer-"+(t-1)}},[e._v(e._s(e.$t("answer"))+" "+e._s(t))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.answers[t-1],expression:"answers[i - 1]"}],staticClass:"answer",attrs:{id:"answer-"+(t-1),type:"text",placeholder:"..."},domProps:{value:e.answers[t-1]},on:{input:function(n){n.target.composing||e.$set(e.answers,t-1,n.target.value)}}}),e.answerCount>2?n("span",{staticClass:"removeAnswer",attrs:{title:e.$t("remove_answer")},on:{click:function(n){return e.removeAnswer(t-1)}}},[e._v("x")]):e._e()])}),e.answerCount<50?n("span",{staticClass:"add-answer",attrs:{title:e.$t("add_answer")},on:{click:e.addAnswer}},[e._v("+")]):e._e()],2),n("span",{staticClass:"btn small",on:{click:e.createSurvey}},[e._v("\n\t\t"+e._s(e.$t("create_survey"))+"\n\t")]),e.alert?n("span",{staticClass:"alert",class:{red:"red"==e.alert.colorClass,green:"green"==e.alert.colorClass}},[e._v("\n\t\t"+e._s(e.$t(e.alert.msg))+"\n\t")]):e._e()])},b=[],k=(n("96cf"),n("3b8d")),C=n("bc3a"),A=n.n(C),x="/api/survey/",$={createSurvey:function(e){return A.a.post(x,e).then(function(e){return e.data})},getSurvey:function(e){return A.a.get(x+e).then(function(e){return e.data})},vote:function(e,t){return A.a.post(x+e,{answers:t}).then(function(e){return e.data})},getVotes:function(e){return A.a.get(x+e+"/votes").then(function(e){return e.data})}},S={name:"CreateSurvey",data:function(){return{question:"",answerCount:2,answers:[],alert:[]}},methods:{createSurvey:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={question:this.question,answers:this.answers},e.prev=1,e.next=4,$.createSurvey(t);case 4:n=e.sent,this.setAlert("alerts.survey_created"),this.$router.push("".concat(this.$i18n.locale,"/survey/").concat(n["uuid"])),e.next=19;break;case 9:e.prev=9,e.t0=e["catch"](1),r=e.t0.response.data.code,e.t1=r,e.next="no-question"===e.t1?15:"no-answers"===e.t1?17:19;break;case 15:return this.setAlert("alerts.no_question","red"),e.abrupt("break",19);case 17:return this.setAlert("alerts.no_answers","red"),e.abrupt("break",19);case 19:case"end":return e.stop()}},e,this,[[1,9]])}));function t(){return e.apply(this,arguments)}return t}(),addAnswer:function(){this.answerCount++},removeAnswer:function(e){this.answers=this.answers.filter(function(t,n){return n!==e}),this.answerCount--},setAlert:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={msg:e,colorClass:t};this.alert=n},removeAlert:function(){this.alert=[]}}},O=S,j=(n("b283"),Object(l["a"])(O,y,b,!1,null,null,null)),V=j.exports,q={name:"Home",components:{CreateSurvey:V}},E=q,R=(n("21bb"),Object(l["a"])(E,m,g,!1,null,null,null)),P=R.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h1",[e._v(e._s(e.survey.question))]),"survey"==e.view?n("SurveyView",{attrs:{survey:e.survey,uuid:e.uuid},on:{"change-view":e.changeView}}):e._e(),"results"==e.view?n("ResultView",{attrs:{survey:e.survey,uuid:e.uuid},on:{"change-view":e.changeView}}):e._e()],1)},N=[],U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"survey-view"},[n("h3",[e._v("\n\t\tErstellt am "+e._s(e.survey.created_date)+" um\n\t\t"+e._s(e.survey.created_time)+" Uhr\n\t")]),n("div",{staticClass:"answer-container"},e._l(e.survey.answers,function(t){return n("div",{staticClass:"row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedAnswers,expression:"checkedAnswers"}],attrs:{id:"answer"+t.id,type:"checkbox"},domProps:{value:t.id,checked:Array.isArray(e.checkedAnswers)?e._i(e.checkedAnswers,t.id)>-1:e.checkedAnswers},on:{change:function(n){var r=e.checkedAnswers,s=n.target,a=!!s.checked;if(Array.isArray(r)){var i=t.id,u=e._i(r,i);s.checked?u<0&&(e.checkedAnswers=r.concat([i])):u>-1&&(e.checkedAnswers=r.slice(0,u).concat(r.slice(u+1)))}else e.checkedAnswers=a}}}),n("label",{attrs:{for:"answer"+t.id}},[e._v(e._s(t.answer))])])}),0),n("span",{staticClass:"btn small",on:{click:e.vote}},[e._v("Abstimmen")]),e.alert?n("span",{staticClass:"alert",class:{red:"red"==e.alert.colorClass,green:"green"==e.alert.colorClass}},[e._v("\n\t\t"+e._s(e.$t(e.alert.msg))+"\n\t")]):e._e(),n("p",{staticClass:"color-light-grey change-view",on:{click:function(t){return e.$emit("change-view","results")}}},[e._v("\n\t\tErgebnisse anschauen\n\t")])])},L=[],T={name:"SurveyView",props:["survey","uuid"],data:function(){return{alert:[],checkedAnswers:[]}},methods:{vote:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!=this.checkedAnswers.length){e.next=3;break}return this.setAlert("alerts.min_one_answer","red"),e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,$.vote(this.uuid,this.checkedAnswers);case 6:e.sent,this.setAlert("alerts.vote_success"),t=this,setTimeout(function(){t.view="results"},3e3),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](3),this.setAlert("alerts.default_error","red");case 15:case"end":return e.stop()}},e,this,[[3,12]])}));function t(){return e.apply(this,arguments)}return t}(),setAlert:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={msg:e,colorClass:t};this.alert=n},removeAlert:function(){this.alert=[]}}},z=T,B=Object(l["a"])(z,U,L,!1,null,null,null),D=B.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"result-view"},[n("h2",[e._v("Ergebnisse - "+e._s(e.totalVotes)+" Votes")]),n("div",{staticClass:"vote-results"},e._l(e.votes,function(t){return n("div",{staticClass:"answer"},[n("p",[n("b",[e._v(e._s(t.answer))]),e._v(": "+e._s(t.votes)+" Votes\n\t\t\t")]),n("span",{staticClass:"bar"},[n("span",{staticClass:"progress",style:"width:"+t.percent+"%"}),n("span",{staticClass:"percent-value",style:"left:"+(t.percent+1)+"%"},[e._v(e._s(t.percent)+" %")])])])}),0),n("span",{staticClass:"btn small outline",on:{click:e.getVotes}},[e._v("Ergebnisse aktualisieren")]),n("p",{staticClass:"color-light-grey change-view",on:{click:function(t){return e.$emit("change-view","survey")}}},[e._v("\n\t\tzur Umfrage\n\t")])])},J=[],H=(n("ac6a"),{name:"ResultView",props:["survey","uuid"],data:function(){return{votes:[],totalVotes:0}},created:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.uuid=this.$route.params["uuid"],this.getVotes();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getVotes:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.votes=[],this.totalVotes=0,e.next=4,$.getVotes(this.uuid);case 4:this.votes=e.sent,this.votes.map(function(e){return t.totalVotes+=e.votes}),this.votes.forEach(function(e){e.percent=Math.round(100/t.totalVotes*e.votes*10)/10});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}}),I=H,K=(n("9327"),Object(l["a"])(I,F,J,!1,null,null,null)),Y=K.exports,G={name:"Survey",components:{SurveyView:D,ResultView:Y},data:function(){return{survey:[],uuid:null,view:"survey",votes:[]}},created:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.uuid=this.$route.params["uuid"],e.next=3,$.getSurvey(this.uuid);case 3:this.survey=e.sent;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{changeView:function(e){this.view=e}}},Q=G,W=(n("1442"),Object(l["a"])(Q,M,N,!1,null,null,null)),X=W.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},ee=[],te={},ne=Object(l["a"])(te,Z,ee,!1,null,null,null),re=ne.exports;r["a"].use(_["a"]);var se=new _["a"]({mode:"history",base:"/",routes:[{path:"/:lang",component:re,beforeEnter:function(e,t,n){var r=e.params.lang;return["en","de"].includes(r)?(ve.locale!==r&&(ve.locale=r),n()):n("de")},children:[{path:"",name:"home",component:P},{path:"survey/:uuid",name:"survey",component:X}]},{path:"*",redirect:"/de"}]}),ae=n("2f62");r["a"].use(ae["a"]);var ie=new ae["a"].Store({state:{},mutations:{},actions:{}}),ue=n("a925"),oe=n("0fb2"),ce=n("0d27"),le={de:oe,en:ce};n("a347"),n("1677");n.d(t,"i18n",function(){return ve}),r["a"].use(ue["a"]);var ve=new ue["a"]({locale:"de",fallbackLocale:"de",messages:le});r["a"].config.productionTip=!1,new r["a"]({router:se,store:ie,i18n:ve,render:function(e){return e(w)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var r=n("5e27"),s=n.n(r);s.a},"5e27":function(e,t,n){},"7a19":function(e,t,n){},9327:function(e,t,n){"use strict";var r=n("ccbd"),s=n.n(r);s.a},"935b":function(e,t,n){},a347:function(e,t,n){},b283:function(e,t,n){"use strict";var r=n("7a19"),s=n.n(r);s.a},bcc9:function(e,t,n){},ccbd:function(e,t,n){}});
//# sourceMappingURL=app.71ab3587.js.map